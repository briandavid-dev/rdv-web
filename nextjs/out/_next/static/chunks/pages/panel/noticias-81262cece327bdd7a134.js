_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{lxPq:function(e,t,n){"use strict";n.r(t);var i=n("MX0m"),a=n.n(i),c=n("q1tI"),s=n("nOHt"),r=n("8Kt/"),o=n.n(r),l=n("YFqc"),A=n.n(l),j=n("Ol7k"),d=n("BvKs"),g=n("bE4q"),b=n("KQm4"),u=n("rePB"),h=n("ODXe"),m=n("7Cbv"),E=n("wd/R"),x=n.n(E),O=n("wCAj"),Q=n("Vl3Y"),p=n("TeRw"),f=n("2/Rp"),B=n("W9HT"),I=n("zeV3"),C=n("NJEC"),y=n("kLXV"),v=n("5rEg"),N=n("BMrR"),R=n("kPKH"),S=n("2fM7"),k=n("8z0m"),J=n("1GRj"),w=n("+3bv"),K=n("BeEn"),z=n("z7Xi"),P=n("a6RD"),U=n.n(P),L=n("WCoe"),T=n("nKUr");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=O.a.Column,D=U()((function(){return Promise.all([n.e(15),n.e(16),n.e(38)]).then(n.bind(null,"jrn5"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["jrn5"]},modules:["./Editor"]}}),M=["body{font-family:var(--bs-font-sans-serif);color:#62452d !important;}"];M.__hash="3156773868";var q=function(){var e=Q.a.useForm(),t=Object(h.a)(e,1)[0],n=Object(c.useState)(!1),i=n[0],s=n[1],r=Object(c.useState)(""),o=r[0],l=r[1],A=Object(c.useState)(!1),j=A[0],d=(A[1],Object(c.useState)(!1)),g=(d[0],d[1]),u=Object(c.useState)(),E=u[0],P=u[1],U=Object(c.useState)(""),H=U[0],q=U[1],G=Object(c.useState)("AGREGAR"),Z=G[0],X=G[1],W=Object(c.useState)(!1),V=W[0],_=W[1],$=Object(c.useState)(!1),ee=$[0],te=$[1],ne=function(e){"success"===e?p.a.success({message:"Hola",description:"Tu operaci\xf3n ha sido realizada."}):"error"===e&&p.a.error({message:"Lo siento",description:"Ha ocurrido un error en la transacci\xf3n, intenta de nuevo en unos minutos."})};Object(c.useEffect)((function(){te(!0),L.a.getNoticias("noticias").then((function(e){var t=e.data,n=t.codigo,i=t.results;if("1"===n){var a=i.map((function(e){return{key:e.id,id:e.id,titulo:e.title,fechaCreacion:e.created_at,imageBase64:e.image_base64,imageExtension:e.image_extension,lenguaje:e.language,visualizacionHome:e.name_section,marcarPrincipal:e.markMain,contenido:e.content_html,summary:e.summary}}));P(a),te(!1)}else ne("error")})).catch((function(e){ne("error"),te(!1)}))}),[]);var ie=Object(c.useState)([]),ae=ie[0],ce=ie[1],se=Object(c.useState)(!1),re=se[0],oe=se[1],le=function(){s(!1)},Ae=function(){g(!0)};return Object(T.jsxs)("div",{children:[Object(T.jsx)(a.a,{id:M.__hash,children:M}),Object(T.jsx)(f.a,{type:"primary",onClick:function(){X("AGREGAR"),t.resetFields(),l(""),q(""),s(!0)},children:"Agregar"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(B.a,{spinning:ee,children:Object(T.jsxs)(O.a,{dataSource:E,pagination:!1,children:[Object(T.jsx)(F,{title:"Titulo",dataIndex:"titulo"},"titulo"),Object(T.jsx)(F,{title:"Lenguaje",dataIndex:"lenguaje"},"lenguaje"),Object(T.jsx)(F,{title:"Fecha de Creaci\xf3n",dataIndex:"fechaCreacion"},"fechaCreacion"),Object(T.jsx)(F,{title:"Opciones",render:function(e,n){return Object(T.jsxs)(I.b,{size:"middle",children:[Object(T.jsx)(w.a,{onClick:function(){!function(e){X("ACTUALIZAR");var n=E.find((function(t){return t.id===e}));t.resetFields(),t.setFieldsValue({id:n.id,lenguaje:n.lenguaje,titulo:n.titulo,marcarPrincipal:n.marcarPrincipal,visualizacionHome:n.visualizacionHome,summary:n.summary}),l(n.contenido),""!==n.imageBase64?q("data:image/".concat(n.imageExtension,";base64,").concat(n.imageBase64)):q(""),s(!0)}(n.id)}}),Object(T.jsx)(C.a,{title:"\xbfSeguro de eliminar este contenido\uff1f",okText:"Si",cancelText:"No",onConfirm:function(){var e;e=n.id,te(!0),L.a.deteteNoticias({id:e}).then((function(t){"1"===t.data.codigo?(P(E.filter((function(t){return t.id!==e}))),ne("success")):ne("error"),te(!1)})).catch((function(e){ne("error"),te(!1)}))},okButtonProps:{loading:j},children:Object(T.jsx)(K.a,{onClick:Ae})})]})}},"opciones")]})}),Object(T.jsx)(y.a,{title:"ACTUALIZAR"===Z?Object(T.jsx)("span",{children:"Actualizar noticia"}):Object(T.jsx)("span",{children:"Agregar Nueva Noticia"}),visible:i,onOk:function(){s(!1)},onCancel:le,footer:!1,width:1e3,centered:!0,children:Object(T.jsx)(B.a,{spinning:V,delay:500,children:Object(T.jsx)("div",{children:Object(T.jsxs)(Q.a,Y(Y({},{labelCol:{span:24},wrapperCol:{span:24}}),{},{onFinish:function(e){var t=Y(Y({},e),{},{contenido:o,imagen:ae,type:"noticias",proceso:"ACTUALIZAR"===Z?"ACTUALIZAR":"AGREGAR"}),n=E;"ACTUALIZAR"===Z&&(_(!0),L.a.updateNoticias(t).then((function(i){"1"===i.data.codigo?(n=E.map((function(n){if(n.id===e.id){var i={};return t.imagen[0]&&(i.imageBase64=t.imagen[0][0].base64,i.imageExtension=t.imagen[0][0].extension),Y(Y(Y({},n),t),i)}return n})),P(n),ce([]),le(),_(!1),ne("success")):ne("error")})).catch((function(e){ne("error"),_(!1)}))),"AGREGAR"===Z&&(_(!0),L.a.insertNoticias(t).then((function(e){if("1"===e.data.codigo){var i=Object(m.a)();n=[].concat(Object(b.a)(E),[Y(Y({},t),{},{imageBase64:t.imagen[0][0].base64,imageExtension:t.imagen[0][0].extension,key:i,id:e.data.results.insertId,fechaCreacion:x()().format("DD-MM-YYYY")})]),P(n),ce([]),le(),_(!1),ne("success")}else ne("error")})).catch((function(e){ne("error"),_(!1)})))},form:t,children:[Object(T.jsx)(Q.a.Item,{name:"id",hidden:!0,children:Object(T.jsx)(v.a,{type:"text"})}),Object(T.jsxs)(N.a,{gutter:40,children:[Object(T.jsx)(R.a,{lg:24,children:Object(T.jsx)(Q.a.Item,{label:Object(T.jsx)("strong",{children:"Lenguaje"}),name:"lenguaje",rules:[{required:!0,message:"Ingrese el lenguaje"}],children:Object(T.jsxs)(S.a,{placeholder:"Seleccione",allowClear:!0,children:[Object(T.jsx)(S.a.Option,{value:"es",children:"Espa\xf1ol"}),Object(T.jsx)(S.a.Option,{value:"en",children:"Ingl\xe9s"})]})})}),Object(T.jsx)(R.a,{lg:24,children:Object(T.jsx)(Q.a.Item,{label:Object(T.jsx)("strong",{children:"Titulo"}),name:"titulo",rules:[{required:!0,message:"Ingrese el titulo"},{min:10,message:"M\xednimo 10 caracteres"}],children:Object(T.jsx)(v.a,{maxLength:100})})}),Object(T.jsx)(R.a,{lg:24,children:Object(T.jsx)(Q.a.Item,{label:Object(T.jsx)("strong",{children:"Resumen"}),name:"summary",rules:[{required:!0,message:"Ingrese el resumen"},{min:100,message:"M\xednimo 100 caracteres"}],children:Object(T.jsx)(v.a,{maxLength:500})})}),Object(T.jsxs)(R.a,{lg:24,children:[Object(T.jsx)(Q.a.Item,{label:Object(T.jsx)("strong",{children:"Imagen"}),name:"imagen",valuePropName:"fileList",getValueFromEvent:function(e){var t=!1;return e.file.size/1e3>512?(oe(!0),t=!0):(oe(!1),t=!1),Array.isArray(e)?e:(e.fileList.length>1&&e.fileList.shift(),t&&(e.fileList=[]),e&&e.fileList)},extra:Object(T.jsxs)("span",{children:["Im\xe1genes jpg o png de ",Object(T.jsx)("strong",{children:"800px x 800px"})," (no superior a 500 KB)"]}),rules:[{required:""===H,message:"Adjunte un imagen"}],children:Object(T.jsxs)(k.a,{name:"fileCertificado",accept:".jpg, .jpeg, .png",listType:"picture",beforeUpload:function(e){return function(e){if(e.size/1e3>512)return oe(!0),!1;if(oe(!1),ae.findIndex((function(t){return t.name===e.name}))>=0)return!1;var t=new FileReader;return t.readAsDataURL(e),t.onloadend=function(){var n=RegExp(/data:(application|image)\/(jpeg|jpg|png*);base64,([^"]*)/gim).exec(t.result);null!==n&&ce([[Y(Y({},e),{},{name:e.name,nombreArchivo:e.name,extension:n[2],base64:n[3],bytes:null})]])},!1}(e)},onRemove:function(){ce([])},fileList:ae,children:[Object(T.jsx)(f.a,{icon:Object(T.jsx)(z.a,{}),children:"Click para adjuntar"}),re&&Object(T.jsx)("div",{className:"afiliacion-datos-personales__size-message ",style:{color:"red"},children:"El archivo no debe pesar m\xe1s de 500 KB."})]})}),""!==H&&Object(T.jsx)("div",{style:{boder:"1px solid #D9D9D9",padding:"0.5rem"},children:Object(T.jsx)(J.a,{width:100,height:100,src:H,fallback:"data:image/png;base64,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"})})]}),Object(T.jsx)(R.a,{lg:24,children:Object(T.jsx)(Q.a.Item,{label:Object(T.jsx)("strong",{children:"Tipo de visualizaci\xf3n en el Home"}),name:"visualizacionHome",rules:[{required:!0,message:"Ingrese el Tipo de visualizaci\xf3n en el Home"}],children:Object(T.jsxs)(S.a,{placeholder:"Seleccione",allowClear:!0,children:[Object(T.jsx)(S.a.Option,{value:"circulo",children:"Circulo"}),Object(T.jsx)(S.a.Option,{value:"cuadro",children:"Cuadro"})]})})}),Object(T.jsx)(R.a,{lg:24,children:Object(T.jsx)(Q.a.Item,{name:"marcarPrincipal",hidden:!0,children:Object(T.jsx)(v.a,{type:"text"})})}),Object(T.jsxs)(R.a,{lg:24,children:[Object(T.jsx)("strong",{children:"Contenido:"})," \xa0\xa0"]}),Object(T.jsxs)(R.a,{lg:24,children:[Object(T.jsx)("br",{}),Object(T.jsx)(D,{data:o,actions:{setContenidoUpdate:l}})]}),Object(T.jsxs)(R.a,{lg:24,style:{textAlign:"center"},children:[Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(f.a,{onClick:le,children:"Volver"}),"  ",Object(T.jsx)(f.a,{type:"primary",htmlType:"submit",children:"ACTUALIZAR"===Z?Object(T.jsx)("span",{children:"Actualizar"}):Object(T.jsx)("span",{children:"Agregar"})})]})]})]}))})})})]})},G=j.a.Header,Z=j.a.Content,X=j.a.Footer,W=["body{color:#62452d;}",".site-layout-content{min-height:280px;padding:24px;background:#fff;}","#components-layout-demo-top .logo{float:left;width:120px;height:31px;margin:16px 24px 16px 0;background:rgba(255,255,255,0.3);}",".ant-row-rtl #components-layout-demo-top .logo{float:right;margin:16px 0 16px 24px;}"];W.__hash="2824321960";t.default=function(){var e=Object(s.useRouter)();return Object(c.useEffect)((function(){window.sessionStorage.getItem("token")||e.push("/panel/login")}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(a.a,{id:W.__hash,children:W}),Object(T.jsxs)(o.a,{children:[Object(T.jsx)("meta",{charSet:"UTF-8"}),Object(T.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),Object(T.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),Object(T.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl",crossorigin:"anonymous"}),Object(T.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(T.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;800&display=swap",rel:"stylesheet"}),Object(T.jsx)("title",{children:"Noticias - Panel"})]}),Object(T.jsxs)(j.a,{className:"layout",children:[Object(T.jsxs)(G,{children:[Object(T.jsx)("div",{className:"logo"}),Object(T.jsxs)(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(T.jsx)(d.a.Item,{children:Object(T.jsx)(A.a,{href:"/panel/noticias",children:"Noticias"})},"1"),Object(T.jsx)(d.a.Item,{children:Object(T.jsx)(A.a,{href:"/panel/empresas",children:"Empresas"})},"2")]})]}),Object(T.jsxs)(Z,{style:{padding:"0 50px"},children:[Object(T.jsxs)(g.a,{style:{margin:"16px 0"},children:[Object(T.jsx)(g.a.Item,{children:"Panel"}),Object(T.jsx)(g.a.Item,{children:"Noticias"})]}),Object(T.jsx)("div",{className:"site-layout-content",children:Object(T.jsx)(q,{})})]}),Object(T.jsx)(X,{style:{textAlign:"center"},children:"bmosoluciones.com"})]})]})}},"x/jj":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/noticias",function(){return n("lxPq")}])}},[["x/jj",0,2,13,1,3,4,5,7,8,10,9,12,11,14]]]);